//=============================================================================
//
// スケジュール処理 [schedule.cpp]
// Author : 藤田高輔
//
//=============================================================================

/*******************************************************************************
* インクルードファイル
*******************************************************************************/
#include "main.h"
#include "game.h"
#include "oneweek.h"
#include "input.h"
#include "schedule.h"

#include "rival.h"
#include "basic.h"
#include "file data.h"
#include "bg.h"
#include "text.h"
#include "text box.h"
/******************************************************************************
* マクロ定義
******************************************************************************/

/******************************************************************************
* プロトタイプ宣言
******************************************************************************/

/******************************************************************************
* グローバル変数
******************************************************************************/


/******************************************************************************
* 初期化処理
******************************************************************************/
void InitPrologue(void)
{



	return;
}
/******************************************************************************
* 終了処理
******************************************************************************/
void UninitPrologue(void)
{



}
/******************************************************************************
* 更新関数
******************************************************************************/
void UpdatePrologue(void)
{
	if (GetKeyboardTrigger(DIK_RETURN))
	{
		AdvanceWeek();
	}

	if (GetKeyboardTrigger(DIK_SPACE))
	{
		AdvanceText();
	}
}


//=============================================================================
// スケジュール画面にセット
void SetPrologueScene(void)
{
	//ポインタ取得
	RIVAL *rival = GetRival(0);
	WEEKLOOP *week = GetWeeekloop();

	week->status = WEEKLOOP_PROLOGUE;

	SetBgTextureIdx(BG_IDX_CLASS_ROOM);

	SetTextBoxPress(Idx_PRESS_SPACE);

	for (int i = 0; i < RIVAL_MAX; i++)
		(rival + i)->use = false;


	LoadDayStartText();	// 一日の始まりのテキストをバッファーに書き込む

}